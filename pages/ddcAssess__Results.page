<apex:page controller="ddcAssess.AssessmentResultsCtlr" title="Data.com Assessment Results" sidebar="false"
           applyBodyTag="false" standardStylesheets="false">
    
    <body>
        
        <apex:stylesheet value="{!URLFOR($Resource.ddcAssess__SLDS212, 'assets/styles/salesforce-lightning-design-system-vf.css')}"/>
        <apex:stylesheet value="{!URLFOR($Resource.ddcAssess__SLDS212PLUS)}" />
        <!--link rel="stylesheet" href="{!URLFOR($Resource.jquery_ui_base_theme,'jquery-ui.min.css')}" /-->
        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.assessment2_css)}" />
        
        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.jquery_jqplot,'jquery.jqplot.min.css')}" />
        
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script type="text/javascript" src="{!URLFOR($Resource.jquery_migrate)}"></script>

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
        <!--[if lt IE 9]>
                    <script type="text/javascript" src="{!URLFOR($Resource.jquery_jqplot,'excanvas.min.js')}"></script>
]        <![endif]-->
        <script type="text/javascript" src="{!URLFOR($Resource.jquery_jqplot,'jquery.jqplot.min.js')}"></script>
        <script type="text/javascript" src="{!URLFOR($Resource.jquery_jqplot,'jqplot.pieRenderer.min.js')}"></script>
        <script type="text/javascript" src="{!URLFOR($Resource.jquery_jqplot,'jqplot.donutRenderer.min.js')}"></script>
        
        <script type="text/javascript" src="{!URLFOR($Resource.jqplotBar)}"></script>
        <script type="text/javascript" src="{!URLFOR($Resource.jqplotCategory)}"></script>
        <script type="text/javascript" src="{!URLFOR($Resource.jqplotPointLabels)}"></script>
        
        
        <script type="text/javascript">
        function addCommas(nStr)
        {
            nStr += '';
            x = nStr.split('.');
            x1 = x[0];
            x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + ',' + '$2');
            }
            return x1 + x2;
        }
        
        $(document).ready(function() {
            if(new RegExp("print=([^&]*)", "i").exec(window.location.search) == null) {
                $("#subtabs").tabs();
                $("#subtabs").on( "tabsactivate", function( event, ui ) {
                   if (ui) { // shows the new active tab content 
                       $(ui.newPanel[0]).addClass("slds-show").removeClass("slds-hide"); // the div with id=account
                       $(ui.newTab[0]).addClass("slds-active");   // the LI (tab) for account
                       $(ui.oldPanel[0]).removeClass("slds-show").addClass("slds-hide");
                       $(ui.oldTab[0]).removeClass("slds-active");
                   }
                   drawCharts(); 
                   drawIndustryChart();
                   drawRevenueChart();
                   drawEmployeesChart();                  
                });
            } else {// printMode
                $("#subtabs_header").hide();
                $("#dontprint").hide();
                $(".bodyDiv").css('border', 'none');
                $(".slds-hide").removeClass("slds-hide").addClass("slds-show");
                drawCharts();
                drawIndustryChart();
                drawRevenueChart();
                drawEmployeesChart();  
            }
            
            $(".add_commas").each(function(a,b){
                $(b).html( addCommas( $(b).html() ) );
            });
            
            $("#account_indicator").css('left', '{!accountHealth * 9}%');
            $("#account_indicator2").css('left', '{!accountHealth * 9}%');
            $("#contact_indicator").css('left', '{!contactHealth * 9}%');
            $("#contact_indicator2").css('left', '{!contactHealth * 9}%');
            $("#lead_indicator").css('left', '{!leadHealth * 9}%');
            $("#lead_indicator2").css('left', '{!leadHealth * 9}%');
            
            $('a[rel*=leanModal]').leanModal({ top : 100, overlay : 0.4, closeButton: ".modal_close" });         
        });
        
        function clickUnmatched() {
            $("#subtabs_header a[href='#unmatched']").click();
        }
        
        function clickDunsright() {
            $("#subtabs_header a[href='#dunsright']").click();
        }
        </script>
        
        <style>
            .chart_footnote {
            clear: both;
            margin: 0 auto;
            width: 500px;
            font-size: 10px;
            color: #999999;
            padding-left: 115px;
            }
        </style>
        <div class="ddcAssess">
            
            <div class="slds-page-header slds-m-bottom--x-small" role="banner">
                <div class="slds-grid">
                    <div class="slds-col slds-has-flexi-truncate">
                        <nav class="slds-m-bottom--xx-small" role="navigation" aria-label="Breadcrumbs">
                            <ol class="slds-breadcrumb slds-list--horizontal">
                                <li class="slds-breadcrumb__item slds-text-title--caps">
                                    <a href="{!URLFOR($Page.AssessmentHome)}?sfdc.tabName={!$CurrentPage.parameters.sfdc.tabName}">All Data Assessments</a>
                                </li>
                            </ol>
                        </nav>
                    </div>
                    <div class="slds-col slds-no-flex slds-grid slds-align-top">
                    </div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col slds-has-flexi-truncate">
                        <h1 class="slds-page-header__title slds-truncate" title="Data Assessment Date"><apex:outputField value="{!summary.createddate}" rendered="{!valid}" /></h1>
                    </div>
                </div>
                <div class="slds-grid">
                    <div class="slds-col slds-align-bottom">
                        <p class="slds-text-body--small">Data assessments tell you how many of your organization's records we can enrich with more and better Data.com data. They
                            also identify how many of your records can potentially be marked as "inactive" based on information in Data.com, and if you
                            request, how many records in your Salesforce org appear to be duplicates. Your organization can request one assessment every 30
                            days.</p>
                    </div>
                    <div id="dontprint" class="slds-col slds-no-flex slds-grid slds-align-bottom">
                        <button class="slds-button slds-m-left--xx-small slds-button--icon-border"
                                title="Printable Version"
                                onclick="javascript:window.open('{!$Page.Results}?id={!summary.id}&print=x')">
                            <img class="slds-button__icon" src="{!URLFOR($Resource.SLDS212, '/assets/icons/doctype/pdf_60.png')}"/>
                            <span class="slds-assistive-text">Printable Version</span>                            
                        </button>
                        <button class="slds-button slds-m-left--xx-small slds-button--icon-border" title="Help for this page"
                                onclick="javascript:openPopupFocusEscapePounds('http://help.salesforce.com/HTViewHelpDoc?id=data_dot_com_clean_data_assessment.htm&language=en_US', 'Help', 1024, 768, 'width=1024,height=768,resizable=yes,toolbar=yes,status=yes,scrollbars=yes,menubar=yes,directories=no,location=yes,dependant=no', false, false);">
                            <img class="slds-button__icon" src="{!URLFOR($Resource.SLDS212, '/assets/icons/utility/help_60.png')}" alt="Help for this page"/>
                        </button>
                    </div>
                </div>
            </div> <!-- END OF slds-page-header -->
            
            <apex:outputPanel id="everything">
                <apex:pageMessages />
                
                <apex:outputPanel rendered="{!valid}">
                    
                    <div id="subtabs" class="slds-tabs--default">
                        <ul id="subtabs_header" class="slds-tabs--default__nav slds-wrap" role="tablist">
                            <li class="slds-tabs--default__item slds-text-title--caps slds-active" title="Summary" role="presentation"><a class="slds-tabs--default__link" href="#summary" role="tab" tabindex="0" aria-selected="true" aria-controls="tab-default-1" id="tab-default-1__item">Summary</a></li>
                            <li class="slds-tabs--default__item slds-text-title--caps" title="Accounts"
                                role="presentation"><a class="slds-tabs--default__link" href="#accounts" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item">Accounts</a></li>
                            <li class="slds-tabs--default__item slds-text-title--caps" title="Contacts"
                                role="presentation"><a class="slds-tabs--default__link" href="#contacts" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-3" id="tab-default-3__item">Contacts</a></li>
                            <li class="slds-tabs--default__item slds-text-title--caps" title="Leads"
                                role="presentation"><a class="slds-tabs--default__link" href="#leads" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-4" id="tab-default-4__item">Leads</a></li>
                            <li class="slds-tabs--default__item slds-text-title--caps" title="Unmatched"
                                role="presentation"><a class="slds-tabs--default__link" href="#unmatched" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-5" id="tab-default-5__item">Unmatched</a></li>
                            <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dunsright__c}">
                                <li class="slds-tabs--default__item slds-text-title--caps" title="DUNSRight"
                                    role="presentation"><a class="slds-tabs--default__link" href="#dunsright" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-6" id="tab-default-6__item">DUNSRight</a></li>
                            </apex:outputPanel>
                        </ul> 
                        <div id="summary" class="slds-tabs--default__content slds-show slds-m-around--x-small" role="tabpanel" aria-labelledby="tab-default-1__item">
                            <div class="slds-text-body--regular">
                                We've analyzed&nbsp;
                                <apex:outputField value="{!entities['Account'].total__c}" />
                                account,&nbsp;
                                <apex:outputField value="{!entities['Contact'].total__c}" />
                                contact, and&nbsp;
                                <apex:outputField value="{!entities['Lead'].total__c}" />
                                lead records.
                            </div>
                            
                            <article class="slds-card slds-p-around--medium">
                                <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">CRM Data Health Rating</h2>
                                
                                <div class="slds-grid slds-wrap">
                                    <div class="slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-4">
                                        <div class="data_health_summary_content">
                                            <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Accounts</h3>
                                            <div class="gauge"> 
                                                <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources,'images/gauge.png')}"/>
                                                <span class="indicator" id='account_indicator' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'>
                                                    <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources, 'images/indicator.png')}"/>
                                                </span> 
                                            </div>
                                            <div class="scale-label-container">
                                                <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                            </div>
                                            <ul class="ratings-text">
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Usability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Matchability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Uniqueness']}</span> </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-4">
                                        <div class="data_health_summary_content">
                                            <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Contacts</h3>
                                            <div class="gauge"> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                 'images/gauge.png')}"/> <span class="indicator" id='contact_indicator' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                                                                                                                                                                                   'images/indicator.png')}"/></span> 
                                            </div>
                                            <div class="scale-label-container">
                                                <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                            </div>
                                            <ul class="ratings-text">
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Usability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Matchability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Uniqueness']}</span> </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-4">
                                        <div class="data_health_summary_content">
                                            <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Leads</h3>
                                            <div class="gauge"> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                 'images/gauge.png')}"/> <span class="indicator" id='lead_indicator' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                                                                                                                                                                                'images/indicator.png')}"/></span> 
                                            </div>
                                            <div class="scale-label-container">
                                                <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                            </div>
                                            <ul class="ratings-text">
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Usability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Matchability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Uniqueness']}</span> </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-4 slds-p-vertical--medium">
                                        <div class="match_rate_sidebar">
                                            
                                            <img src="{!URLFOR($Resource.did_you_know_icon)}" alt="did you know icon" id="did_you_know_icon"/>
                                            <h3 class="slds-text-title slds-m-bottom--xx-small">What’s CRM Data Health Rating?</h3>
                                            <p class="slds-text-body--small">CRM Data Health Rating is something we created to help
                                                you quickly get an understanding of your
                                                overall data quality.
                                                <a href="#crm_learn_more" rel='leanModal' name="summary_crm_learn_more" class="slds-text-body--small slds-text-link">Learn More</a>
                                            </p>
                                        </div>
                                    </div>
                                </div> <!-- data_health_summary -->
                            </article>
                            <article class="slds-card slds-p-around--medium">
                                <h2 class="slds-text-heading--small">Key Data Insights for Clean &amp; Prospector</h2>
                                <h3 class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Clean</h3>
                                
                                <div class = "slds-grid slds-wrap">
                                    <div class="slds-size--3-of-4">
                                        <table class="slds-table slds-table--cell-buffer">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">
                                                        <div class="slds-truncate" title="Records we can enrich">Records we can <strong>enrich</strong></div>
                                                    </th>
                                                    <th scope="col" colspan="2">
                                                        <div class="slds-truncate" title="Records that are likely inactive">Records that are likely <strong>inactive</strong></div>
                                                    </th>
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <th scope="col" colspan="2">
                                                            <div class="slds-truncate" title="Records that are likely duplicates">Records that are likely <strong>duplicates</strong></div>
                                                        </th>
                                                    </apex:outputPanel>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td data-label="Records we can enrich" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Account'].Different__c}">
                                                            <apex:outputField value="{!entities['Account'].Different__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records we can enrich" class="field">
                                                        <div class="slds-truncate" title="accounts">accounts</div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Account'].Inactive__c}">
                                                            <apex:outputField value="{!entities['Account'].Inactive__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="field">
                                                        <div class="slds-truncate" title="accounts">accounts</div>
                                                    </td>
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <td data-label="Records that are likely duplicates" class="count add_commas">
                                                            <div class="slds-truncate" title="{!entities['Account'].Duplicate__c}">
                                                                <apex:outputField value="{!entities['Account'].Duplicate__c}" />
                                                            </div>
                                                        </td>
                                                        <td data-label="Records that are likely duplicates" class="field">
                                                            <div class="slds-truncate" title="accounts">accounts</div>
                                                        </td>
                                                    </apex:outputPanel>
                                                </tr>
                                                <tr>
                                                    <td data-label="Records we can enrich" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Contact'].Different__c}">
                                                            <apex:outputField value="{!entities['Contact'].Different__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records we can enrich" class="field">
                                                        <div class="slds-truncate" title="contacts">contacts</div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Contact'].Inactive__c}">
                                                            <apex:outputField value="{!entities['Contact'].Inactive__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="field">
                                                        <div class="slds-truncate" title="contacts">contacts</div>
                                                    </td>
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <td data-label="Records that are likely duplicates" class="count add_commas">
                                                            <div class="slds-truncate" title="{!entities['Contact'].Duplicate__c}">
                                                                <apex:outputField value="{!entities['Contact'].Duplicate__c}" />
                                                            </div>
                                                        </td>
                                                        <td data-label="Records that are likely duplicates" class="field">
                                                            <div class="slds-truncate" title="contacts">contacts</div>
                                                        </td>
                                                    </apex:outputPanel>
                                                </tr>
                                                <tr>
                                                    <td data-label="Records we can enrich" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Lead'].Different__c}">
                                                            <apex:outputField value="{!entities['Lead'].Different__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records we can enrich" class="field">
                                                        <div class="slds-truncate" title="leads">leads</div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="count add_commas">
                                                        <div class="slds-truncate" title="{!entities['Lead'].Inactive__c}">
                                                            <apex:outputField value="{!entities['Lead'].Inactive__c}" />
                                                        </div>
                                                    </td>
                                                    <td data-label="Records that are likely inactive" class="field">
                                                        <div class="slds-truncate" title="leads">leads</div>
                                                    </td>
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <td data-label="Records that are likely duplicates" class="count add_commas">
                                                            <div class="slds-truncate" title="{!entities['Lead'].Duplicate__c}">
                                                                <apex:outputField value="{!entities['Lead'].Duplicate__c}" />
                                                            </div>
                                                        </td>
                                                        <td data-label="Records that are likely duplicates" class="field">
                                                            <div class="slds-truncate" title="leads">leads</div>
                                                        </td>
                                                    </apex:outputPanel>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- </div> -->
                                    </div>
                                    <div class="slds-size--1-of-4" style='padding-left:20px'> 
                                        <p class="slds-text-body--regular">Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more information, check out the <a href='http://www.youtube.com/watch?v=QKPDm6W-EzE'>Data.com Clean Product Demo video</a>, or <a href='https://www.salesforce.com/data/customers/'>read a customer story.</a></p>
                                    </div>
                                </div>
                                <h3 class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Prospector</h3>
                                <div class="slds-grid slds-wrap">
                                    <div class="slds-size--3-of-4">
                                        <table class="slds-table slds-table--cell-buffer">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">
                                                        <div class="slds-truncate" title="For all accounts you have today we can enrich your data with" style="white-space:normal">
                                                            For all <strong>accounts</strong> you have today we can <strong>enrich</strong> your data with
                                                        </div>
                                                    </th>
                                                    <th scope="col" colspan="2">
                                                        <div class="slds-truncate" title="In the top 10 industries we identified for your account we can enrich your data with" style="white-space:normal">
                                                            In the <strong>top 10 industries</strong> we identified for your <strong>account</strong> we can <strong>enrich</strong> your data with
                                                        </div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td data-label="For all accounts you have today we can enrich your data with" class="count add_commas">
                                                        <div class="slds-truncate" title="{!summary.Available_Contacts__c}">
                                                            {!summary.Available_Contacts__c}
                                                        </div>
                                                    </td>
                                                    <td data-label="For all accounts you have today we can enrich your data with" class="field">
                                                        <div class="slds-truncate" title="contacts">contacts</div>
                                                    </td>
                                                    <td data-label="In the top 10 industries we identified for your account we can enrich your data with" class="count add_commas">
                                                        <div class="slds-truncate" title="{!summary.Available_Accounts_By_Industry__c}">
                                                            {!summary.Available_Accounts_By_Industry__c}
                                                        </div>
                                                    </td>
                                                    <td data-label="In the top 10 industries we identified for your account we can enrich your data with" class="field">
                                                        <div class="slds-truncate" title="accounts">accounts</div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="count"></td>
                                                    <td class="field"></td>
                                                    <td data-label="In the top 10 industries we identified for your account we can enrich your data with" class="count add_commas">
                                                        <div class="slds-truncate" title="{!summary.Available_Contacts_By_Industry__c}">
                                                            {!summary.Available_Contacts_By_Industry__c}
                                                        </div>
                                                    </td>
                                                    <td data-label="In the top 10 industries we identified for your account we can enrich your data with" class="field">
                                                        <div class="slds-truncate" title="contacts">contacts</div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- </div> -->
                                    </div>
                                    <div class="slds-size--1-of-4"> 
                                        <div style='padding-left:20px'>
                                            <p class="slds-text-body--regular">Data.com Prospector provides complete, up-to-date account and contact information which can be imported directly into Salesforce.  For more information <a href='https://www.salesforce.com/data/customers/'>read a customer story</a>.</p>
                                        </div>
                                    </div>
                                </div>
                            </article>
                            
                        </div> <!-- summary -->
                        
                        <div class="clear"></div>
                        
                        <div id="accounts" class="slds-tabs--default__content slds-hide slds-m-around--x-small" role="tabpanel" aria-labelledby="tab-default-2__item">
                            <div>
                                <article class="slds-card slds-p-around--medium">
                                    <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">CRM Data Health Rating</h2>
                                    <div class="data_health_summary">
                                        <div class="col col-50">
                                            <div class="data_health_summary_content">
                                                <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Accounts</h3>
                                                <div class="gauge"> 
                                                    <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources, 'images/gauge.png')}"/>
                                                    <span class="indicator" id='account_indicator2' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'>
                                                        <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources, 'images/indicator.png')}"/>
                                                    </span> 
                                                </div>
                                                <div class="scale-label-container">
                                                    <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                    <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                                </div>
                                                <ul class="ratings-text">
                                                    <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Usability']}</span> </li>
                                                    <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Matchability']}</span> </li>
                                                    <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Account']['Uniqueness']}</span> </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col col-25">
                                            <div class="match_rate_sidebar">
                                                <img src="{!URLFOR($Resource.did_you_know_icon)}" alt="did you know icon" id="did_you_know_icon"/>
                                                <h3 class="slds-text-heading--small slds-m-bottom--xx-small">What’s CRM Data Health Rating?</h3>
                                                <p class="slds-text-body--small">CRM Data Health Rating is something we created to help
                                                    you quickly get an understanding of your
                                                    overall data quality.
                                                    <a href="#crm_learn_more" rel='leanModal' name="summary_crm_learn_more" class="slds-text-body--small slds-text-link">Learn More</a>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="col col-25">
                                        </div>
                                    </div>
                                </article>
                                
                                <article class="slds-card slds-p-around--medium">
                                    <h2 class="slds-text-heading--small" style='margin-bottom:0px;'>Account Profile</h2>
                                    <div class="slds-text-body--regular" style='color:#666666;margin-bottom:30px;margin-top:5px'>These account profiles are based on the records we were able to match.
                                    </div>
                                
                                    <div class="industry_summary row industry-chart-container">
                                        <div class="col col-50">
                                            <h3 class="slds-text-title">Top Ten Industries</h3>
                                            <div id='industry-chart'></div>
                                            <div id='missing_industries_text' class='chart_footnote slds-text-body--small' style='padding-top:5px'>
                                                <span id='missing_industries_count'></span> records were excluded from the above chart because they did not contain a value for industry.
                                            </div>
                                        </div>
                                        <div class="col col-25"></div>
                                    </div>
                                    <div style='margin-top:60px' class="industry_summary row revenue-chart-container">
                                        <div class="col col-50">
                                            <h3 class="slds-text-title">Revenue Ranges</h3>
                                            <div id='revenue-chart'></div>
                                            <div id='missing_revenue_text' style='margin-top:-20px;margin-bottom:20px' class='chart_footnote slds-text-body--small'>
                                                <span id='missing_revenue_count'></span>  records were excluded in the above chart because they did not contain a value for revenue.
                                            </div>
                                        </div>
                                        <div class="col col-25"></div>
                                    </div>
                                    <div style='margin-top:20px' class="industry_summary row employee-chart-container">
                                        <div class="col col-50">
                                            <h3 class="slds-text-title">Employee Ranges</h3>
                                            <div id='employees-chart'></div>
                                            <div style='margin-top:-20px;margin-bottom:20px' id='missing_employees_text' class='chart_footnote slds-text-body--small'>
                                                <span id='missing_employees_count'></span>  records were excluded in the above chart because they did not contain a value for number of employees.
                                            </div>
                                        </div>
                                        <div class="col col-25"></div>
                                    </div>
                                </article>
                                
                                <article class="slds-card slds-p-around--medium">
                                    <h2 class="slds-text-heading--small" style='margin-bottom:0px;'>Account Data Insights</h2>
                                    <h3 style='margin-top:5px' class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Clean</h3>
                                    <div class = "row">
                                        <div class="col col-50">
                                            <div class="record_table large">
                                                <table class="slds-table slds-table--cell-buffer">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col" colspan="2">
                                                                <div class="slds-truncate" title="Data.com Clean can add/update industry, revenue, and employee values for" style="white-space:normal">
                                                                    Data.com Clean can add/update <strong>industry</strong>, <strong>revenue</strong>, and <strong>employee</strong> values for
                                                                </div>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="count add_commas slds-truncate" data-label="Data.com Clean can add/update industry, revenue, and employee values for">
                                                                {!updateableAccounts}
                                                            </td>
                                                            <td class="field slds-truncate" data-label="Data.com Clean can add/update industry, revenue, and employee values for">accounts</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col col-50" style='padding-left:20px'> 
                                            <p class="slds-text-body--regular">Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more information, check out the <a href='http://www.youtube.com/watch?v=QKPDm6W-EzE'>Data.com Clean Product Demo video</a>, or <a href='https://www.salesforce.com/data/customers/'>read a customer story.</a></p>
                                        </div>
                                    </div>      
                                </article>
                                 
                                <article class="slds-card slds-p-around--medium">
                                    <div class="summary_text">
                                        <h2 class="slds-text-heading--small">Matched Record Analysis - Accounts&nbsp;&nbsp;&nbsp;<a href="javascript:clickDunsright();">Also see DUNSRight&#8482; match results</a></h2>
                                        <p class="slds-text-body--regular">This section breaks down the records we've matched, showing the number and percentage of records by status and
                                            identifying the match percentage.</p>
                                    </div>
                                    <div class="stats_body">
                                        <div class="row">
                                            <div class ="col col-50">
                                                <div id="Account_chart" class="jqplot-target">
                                                    <div class = "donut-value slds-text-body--regular">
                                                        {! (entities['Account'].matched_pcnt__c)} % matched
                                                    </div>
                                                </div>
                                            </div>
                                            <div class ="col col-50 donut-legend">
                                                <div class="row legend-row">
                                                    <div class ="col col-33">
                                                        <div class="legend_element">
                                                            <div class="legend_in_sync">&nbsp;</div>
                                                            <span class='add_commas'><apex:outputField value="{!entities['Account'].in_sync__c}" /> In Sync</span>
                                                        </div>
                                                    </div>
                                                    <div class ="col col-33">
                                                        <div class="legend_element">
                                                            <div class="legend_different">&nbsp;</div>
                                                            <span class='add_commas'><apex:outputField value="{!entities['Account'].different__c}" /> Different </span>
                                                        </div>
                                                    </div>
                                                    <div class ="col col-33">
                                                        <div class="legend_element">
                                                            <div class="legend_inactive">&nbsp;</div>
                                                            <span class='add_commas'><apex:outputField value="{!entities['Account'].inactive__c}" /> Inactive</span>
                                                        </div> 
                                                    </div>
                                                </div>
                                                <div class="row legend-row">
                                                    <div class ="col col-33">
                                                        <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                            <div class="legend_element">
                                                                <div class="legend_unmatched">&nbsp;</div>
                                                                <span>Unmatched</span>
                                                            </div>
                                                        </apex:outputPanel>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class = "row">
                                            <div class="col col-66">
                                                <div class="slds-card slds-m-bottom--medium">
                                                    <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                        <h2>
                                                            <span class="slds-text-heading--small">Account Fields</span>
                                                        </h2>
                                                        <div class="slds-text-title--caps">
                                                            <apex:outputField value="{!entities['Account'].matched__c}" />
                                                            account records
                                                        </div>
                                                    </header>
                                                    <table class="slds-table--bordered slds-table slds-table--cell-buffer">
                                                        <thead>
                                                            <tr class="slds-text-title--caps">
                                                                <th scope="col"><div class="slds-truncate" title="Field">Field</div></th>
                                                                <th scope="col"><div class="slds-truncate" title="Blank">Blank</div></th>
                                                                <th scope="col"><div class="slds-truncate" title="Blank (%)">Blank (%)</div></th>
                                                                <th scope="col"><div class="slds-truncate" title="Different">Different</div></th>
                                                                <th scope="col"><div class="slds-truncate" title="Different (%)">Different (%)</div></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <apex:repeat value="{!fieldLists['Account']}" var="field">
                                                                <tr>
                                                                    <td data-label="Field">{!fieldLabels[field]}</td>
                                                                    <td data-label="Blank" class="{!IF(fields['Account'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}"><apex:outputField value="{!fields['Account'][field].Blank__c}" /></td>
                                                                    <td data-label="Blank (%)" class="{!IF(fields['Account'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}">
                                                                        {!fields['Account'][field].Blank_pcnt__c}%</td>
                                                                    <td data-label="Different"><apex:outputField value="{!fields['Account'][field].Different__c}" /></td>
                                                                    <td data-label="Different (%)" class="{!IF(fields['Account'][field].different_pcnt__c >= differentThreshold,'different_highlight','')}">
                                                                        {!fields['Account'][field].Different_pcnt__c}%</td>
                                                                </tr>
                                                            </apex:repeat>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="marketing_sidebar col col-33">
                                                <p class="slds-text-body--regular">
                                                    The Account fields you see here are included with Data.com Corporate. Data.com Premium provides over 50 additional D&amp;B
                                                    fields for matched account records. <br /> <br /> For complete details on the additional fields, and the other
                                                    advantages of using Data.com Premium, check out the <a class="help_link slds-text-body--small slds-text-link"
                                                                                                           href="http://www.salesforce.com/assets/pdf/datasheets/DS_Datadotcom_Edition_Comparison.pdf" target="_blank">
                                                    Data.com Edition Comparison datasheet</a>.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div> <!-- accounts -->
                        
                        <div class="clear"></div>
                        
                        <div id="contacts" class="slds-tabs--default__content slds-hide slds-m-around--x-small" role="tabpanel" aria-labelledby="tab-default-3__item">
                            <article class="slds-card slds-p-around--medium">
	                            <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">CRM Data Health Rating</h2>
                                <div class="data_health_summary">
                                    <div class="col col-50">
                                        <div class="data_health_summary_content">
                                            <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Contacts</h3>
                                            <div class="gauge"> 
                                                <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources,'images/gauge.png')}"/> 
                                                <span class="indicator" id='contact_indicator2' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'>
                                                    <apex:image url="{!URLFOR($Resource.ddcAssess__assessment_resources,'images/indicator.png')}"/></span> 
                                            </div>
                                            <div class="scale-label-container">
                                                <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                            </div>
                                            <ul class="ratings-text">
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Usability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Matchability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Contact']['Uniqueness']}</span> </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col col-25">
                                        <div class="match_rate_sidebar">
                                            <img src="{!URLFOR($Resource.did_you_know_icon)}" alt="did you know icon" id="did_you_know_icon"/>
                                            <h3 class="slds-text-heading--small slds-m-bottom--xx-small">What’s CRM Data Health Rating?</h3>
                                            <p class="slds-text-body--small">CRM Data Health Rating is something we created to help
                                                you quickly get an understanding of your
                                                overall data quality.
                                                <a href="#crm_learn_more" rel='leanModal' name="summary_crm_learn_more" class="slds-text-body--small slds-text-link">Learn More</a>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col col-25">
                                    </div>
                                </div>
                            </article>
                            <article class="slds-card slds-p-around--medium">
                                <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">Contact Data Insights</h2>
                                <h3 class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Clean</h3>
                                <div class = "row">
                                    <div class="col col-50">
                                        <div class="record_table large">
                                            <table class="slds-table slds-table--cell-buffer">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" colspan="2">
                                                            <div class="slds-truncate" style="white-space:normal">
                                                                Data.com Clean can add/update email addresses and/or phone numbers for
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="count add_commas slds-truncate">{!updateableContacts}</td>
                                                        <td style='padding-left:10px' class="field slds-truncate">of your contacts</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col col-50" style='padding-left:20px'> 
                                        <p class="slds-text-body--regular">Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more information, check out the <a href='http://www.youtube.com/watch?v=QKPDm6W-EzE'>Data.com Clean Product Demo video</a>, or <a href='https://www.salesforce.com/data/customers/'>read a customer story.</a></p>
                                    </div>
                                </div>  
                                <h3 class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Prospector</h3>
                                <div class = "row">
                                    <div class="col col-50">
                                        <div class="record_table  large">
                                            <table class="slds-table slds-table--cell-buffer">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" colspan="2">
                                                            <div class="slds-truncate" style="white-space:normal">
                                                                In the top 10 industries that we identified for your account records, we have identified
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="count add_commas slds-truncate">
                                                            <apex:outputPanel layout="none" rendered="{!ISBLANK(summary.ddcAssess__Available_Executive_Contacts_By_Industry__c)}">
                                                            	0
                                                            </apex:outputPanel>
                                                            {!summary.Available_Executive_Contacts_By_Industry__c}
                                                        </td>
                                                        <td style='padding-left:10px' class="field slds-truncate">New Director, VP and C-level contacts</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col col-50" style='padding-left:25px'> 
                                        <p class="slds-text-body--regular">Data.com Prospector provides complete, up-to-date account and contact information which can be imported directly into Salesforce.  For more information, check out the <a href='http://www.youtube.com/watch?v=X4fK3tj9HQY'>Data.com Prospector Product Demo video</a>, or <a href='https://www.salesforce.com/data/customers/'>read a customer story</a>.</p>
                                    </div>
                                </div>
                            </article>
                            <article class="slds-card slds-p-around--medium">
							    <div class="summary_text">
                                    <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">Matched Record Analysis - Contacts</h2>
                                    <p class="slds-text-body--regular">This section breaks down the records we've matched, showing the number and percentage of records by status and
                                        identifying the match percentage.</p>
                                    <div class="row">
                                        <div class ="col col-50">
                                            <div id="Contact_chart" class="jqplot-target">
                                                <div class = "donut-value">{!entities['Contact'].matched_pcnt__c}<span class="donut-percent-sign">% </span><span class="donut-descriptor">matched</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class ="col col-50 donut-legend">
                                            <div class="row legend-row">
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_in_sync">&nbsp;</div>
                                                        <span><strong class='add_commas'><apex:outputField value="{!entities['Contact'].in_sync__c}" /> In Sync</strong></span>
                                                    </div>
                                                </div>
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_different">&nbsp;</div>
                                                        <span> <strong class='add_commas'><apex:outputField value="{!entities['Contact'].different__c}" /> Different</strong> </span>
                                                    </div>
                                                </div>
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_inactive">&nbsp;</div>
                                                        <span> <strong class='add_commas'><apex:outputField value="{!entities['Contact'].inactive__c}" />  Inactive</strong></span>
                                                    </div> 
                                                </div>
                                            </div>
                                            <div class="row legend-row">
                                                <div class ="col col-33">
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <div class="legend_element">
                                                            <div class="legend_unmatched">&nbsp;</div>
                                                            <span> <strong>Unmatched</strong></span>
                                                        </div>
                                                    </apex:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col col-75">
                                            <div class="slds-card slds-m-bottom--medium">
                                                <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                    <h2>
                                                        <span class="slds-text-heading--small">Contact Fields</span>
                                                    </h2>
                                                    <div class="slds-text-title--caps">
                                                        <apex:outputField value="{!entities['Contact'].matched__c}" />
                                                        contact records
                                                    </div>
                                                </header>
                                                                                            
                                                <table class="slds-table slds-table--cell-buffer slds-table--bordered">
                                                    <thead>
                                                        <tr class="slds-text-title--caps">
                                                            <th scope="col"><div class="slds-truncate" title="Field">Field</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Blank">Blank</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Blank (%)">Blank (%)</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Different">Different</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Different (%)">Different (%)</div></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <apex:repeat value="{!fieldLists['Contact']}" var="field">
                                                            <tr>
                                                                <td data-label="Field">{!fieldLabels[field]}</td>
                                                                <td data-label="Blank" class="{!IF(fields['Contact'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}">
                                                                    <apex:outputField value="{!fields['Contact'][field].Blank__c}" /></td>
                                                                <td data-label="Blank (%)" class="{!IF(fields['Contact'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}">
                                                                    {!fields['Contact'][field].Blank_pcnt__c}%</td>
                                                                <td data-label="Different"><apex:outputField value="{!fields['Contact'][field].Different__c}" /></td>
                                                                <td data-label="Different (%)" class="{!IF(fields['Contact'][field].different_pcnt__c >= differentThreshold,'different_highlight','')}">
                                                                    {!fields['Contact'][field].Different_pcnt__c}%</td>
                                                            </tr>
                                                        </apex:repeat>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col col-25">
                                            <div class="marketing_sidebar">
                                                <p class="slds-text-body--regular">
                                                    Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more
                                                    information, check out the <a class="help_link slds-text-body--small slds-text-link" href="http://www.youtube.com/watch?v=QKPDm6W-EzE" target="_blank">
                                                    Data.com Clean Product Demo video</a>, or <a class="help_link slds-text-body--small slds-text-link" href="https://www.salesforce.com/data/customers/"
                                                                                                 target="_blank"> read a customer story</a>.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </article>
                        </div> <!-- contacts -->
                        
                        <div class="clear"></div>
                        
                        <div id="leads" class=" slds-tabs--default__content slds-hide slds-m-around--x-small" role="tabpanel" aria-labelledby="tab-default-4__item">
                            <article class="slds-card slds-p-around--medium">
                                <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">CRM Data Health Rating</h2>
                                <div class="data_health_summary">
                                    <div class="col col-50">
                                        <div class="data_health_summary_content">
                                            <h3 class="slds-text-title slds-text-align--center slds-m-bottom--xx-small">Leads</h3>
                                            <div class="gauge"> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                 'images/gauge.png')}"/> <span class="indicator" id='lead_indicator2' style='left:0%;transition:all 1s;transition-timing-function:ease-in-out'> <apex:image url="{!URLFOR($Resource.assessment_resources,
                                                                                                                                                                                                                                                 'images/indicator.png')}"/></span> 
                                            </div>
                                            <div class="scale-label-container">
                                                <span class="slds-text-body--small slds-float--left slds-m-around--xx-small">poor</span>
                                                <span class="slds-text-body--small slds-float--right slds-m-around--xx-small">excellent</span> 
                                            </div>
                                            <ul class="ratings-text">
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Usability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Usability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Matchability:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Matchability']}</span> </li>
                                                <li> <span class="ratings-text-label slds-text-body--regular slds-text-align--right">Uniqueness:</span><span class="slds-text-heading--small slds-text-align--left"> {!dataHealthLabels['Lead']['Uniqueness']}</span> </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col col-25">
                                        <div class="match_rate_sidebar">
                                            <img src="{!URLFOR($Resource.did_you_know_icon)}" alt="did you know icon" id="did_you_know_icon"/>
                                            <h3 class="slds-text-heading--small slds-m-bottom--xx-small">What’s CRM Data Health Rating?</h3><br />
                                            <p class="slds-text-body--small">CRM Data Health Rating is something we created to help
                                                you quickly get an understanding of your
                                                overall data quality.
                                                <a href="#crm_learn_more" rel='leanModal' name="summary_crm_learn_more" class="slds-text-body--small slds-text-link" >Learn More</a>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col col-25">
                                    </div>
                                </div>
                            </article>
                            <article class="slds-card slds-p-around--medium">
                                <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">Lead Data Insights</h2>
                                <h3 class="slds-text-title slds-m-bottom--x-small slds-m-top--x-small">Data.com Clean</h3>
                                <div class = "row">
                                    <div class="col col-50">
                                        <div class="record_table large">
                                            <table class="slds-table slds-table--cell-buffer">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" colspan="2">
                                                            <div class="slds-truncate" style="white-space:normal">
                                                                Data.com Clean can add/update email addresses and/or phone numbers for
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="count add_commas slds-truncate">{!updateableLeadContactInfo} </td>
                                                        <td class="field slds-truncate">of your leads</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col col-50" style='padding-left:20px'> 
                                        <p class="slds-text-body--regular">Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more information, check out the <a href='http://www.youtube.com/watch?v=QKPDm6W-EzE'>Data.com Clean Product Demo video</a>, or <a href='https://www.salesforce.com/data/customers/'>read a customer story.</a></p>
                                    </div>
                                </div>  
                                <div class = "row">
                                    <div class="col col-50">
                                        <div class="record_table  large">
                                            <table class="slds-table slds-table--cell-buffer">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" colspan="2">
                                                            <div class="slds-truncate" style="white-space:normal">
                                                                Data.com Clean can add/update company-related information for
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="count add_commas slds-truncate">{!updateableLeadCompanyInfo}</td>
                                                        <td class="field slds-truncate">of your leads</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col col-50"> 
                                    </div>
                                </div>
                            </article>
                            <article class="slds-card slds-p-around--medium">
							    <div class="summary_text">
                                    <h2 class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--x-small">Matched Record Analysis - Leads</h2>
                                    <p class="slds-text-body--regular">This section breaks down the records we've matched, showing the number and percentage of records by status and
                                        identifying the match percentage.</p>
                                    <div class="row">
                                        <div class ="col col-50">
                                            <div id="Lead_chart" class="jqplot-target">
                                                <div class = "donut-value">{!entities['Lead'].matched_pcnt__c}<span class="donut-percent-sign">% </span><span class="donut-descriptor">matched</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class ="col col-50 donut-legend">
                                            <div class="row legend-row">
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_in_sync">&nbsp;</div>
                                                        <span><strong class='add_commas'><apex:outputField value="{!entities['Lead'].in_sync__c}" /> In Sync</strong></span>
                                                    </div>
                                                </div>
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_different">&nbsp;</div>
                                                        <span> <strong class='add_commas'><apex:outputField value="{!entities['Lead'].different__c}" /> Different</strong> </span>
                                                    </div>
                                                </div>
                                                <div class ="col col-33">
                                                    <div class="legend_element">
                                                        <div class="legend_inactive">&nbsp;</div>
                                                        <span> <strong class='add_commas'><apex:outputField value="{!entities['Lead'].inactive__c}" />  Inactive</strong></span>
                                                    </div> 
                                                </div>
                                            </div>
                                            <div class="row legend-row">
                                                <div class ="col col-33">
                                                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dupe_Check__c}">
                                                        <div class="legend_element">
                                                            <div class="legend_unmatched">&nbsp;</div>
                                                            <span> <strong> Unmatched</strong></span>
                                                        </div>
                                                    </apex:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col col-75">
                                            <div class="slds-card slds-m-bottom--medium">
                                                <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                    <h2>
                                                        <span class="slds-text-heading--small">Lead Fields</span>
                                                    </h2>
                                                    <div class="slds-text-title--caps">
                                                        <apex:outputField value="{!entities['Lead'].matched__c}" />
                                                        lead records
                                                    </div>
                                                </header>
                                                <table class="slds-table slds-table--cell-buffer slds-table--bordered">
                                                    <thead>
                                                        <tr class="slds-text-title--caps">
                                                            <th scope="col"><div class="slds-truncate" title="Field">Field</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Blank">Blank</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Blank (%)">Blank (%)</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Different">Different</div></th>
                                                            <th scope="col"><div class="slds-truncate" title="Different (%)">Different (%)</div></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <apex:repeat value="{!fieldLists['Lead']}" var="field">
                                                            <tr>
                                                                <td data-label="Field">{!fieldLabels[field]}</td>
                                                                <td  data-label="Blank" class="{!IF(fields['Lead'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}"><apex:outputField value="{!fields['Lead'][field].Blank__c}" /></td>
                                                                <td data-label="Blank (%)" class="{!IF(fields['Lead'][field].Blank_pcnt__c >= blankThreshold,'blank_highlight','')}">
                                                                    {!fields['Lead'][field].Blank_pcnt__c}%</td>
                                                                <td data-label="Different"><apex:outputField value="{!fields['Lead'][field].Different__c}" /></td>
                                                                <td  data-label="Different (%)" class="{!IF(fields['Lead'][field].different_pcnt__c >= differentThreshold,'different_highlight','')}">
                                                                    {!fields['Lead'][field].Different_pcnt__c}%</td>
                                                            </tr>
                                                        </apex:repeat>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col col-25" style='padding-left:20px'>
                                            <div class="marketing_sidebar">
                                                <p class="slds-text-body--regular">
                                                    Data.com Clean can automatically fill blank fields on your matched Salesforce records with Data.com values. For more
                                                    information, check out the <a class="help_link slds-text-body--small slds-text-link" href="http://www.youtube.com/watch?v=QKPDm6W-EzE" target="_blank">
                                                    Data.com Clean Product Demo video</a>, or <a class="help_link slds-text-body--small slds-text-link" href="https://www.salesforce.com/data/customers/"
                                                                                                 target="_blank"> read a customer story</a>.
                                                </p>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </article>
                        </div> <!-- leads -->
                        
                        <div class="clear"></div>
                        
                        <div id="unmatched" class="slds-tabs--default__content slds-hide" role="tabpanel" aria-labelledby="tab-default-5__item">
                            <div class="slds-grid slds-wrap slds-grid--pull">
                                <div class="slds-p-horizontal--xx-small slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-2">
                                    <div class="slds-card slds-p-horizontal--xx-small" >
                                        <header class="slds-card__header slds-text-heading--small slds-p-left--none">
                                            <h2>
                                                <span class="slds-text-heading--small">Unmatched Record Analysis</span>
                                            </h2>
                                        </header>
                                        <p class="slds-card__body slds-text-body--regular slds-m-bottom--medium">A Salesforce record is considered to be unmatched if we can't find a record in Data.com with enough identical or
                                            similar information to indicate that the two records represent the same entity. Missing or incomplete information in key
                                            fields used for matching is the most common reason a record can't be matched. These tables list the key fields we use for
                                            matching. They also identify the gaps in your data that can prevent a Salesforce record from being matched with one of the
                                            millions of contacts and over 200 million companies in Data.com.
                                        </p>
                                        <div class="slds-card slds-m-bottom--medium">
                                            <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                <h2>
                                                    <span class="slds-text-heading--small">Account Fields</span>
                                                </h2>
                                                <div class="slds-text-title--caps">
                                                    <apex:outputField value="{!entities['Account'].unmatched__c}" />
                                                    account records
                                                </div>
                                            </header>
                                            <table class="slds-table slds-table--bordered">
                                                <thead>
                                                    <tr class="slds-text-title--caps">
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Field">Field</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank">Blank</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank (%)">Blank (%)</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:repeat value="{!unmatchedFieldLists['Account']}" var="field">
                                                        <tr>
                                                            <th scope="row" data-label="Field">
                                                                <div class="slds-truncate" title="{!fieldLabels[field]}">{!fieldLabels[field]}</div>
                                                            </th>
                                                            <td data-label="Blank">
                                                                <div class="slds-truncate" title="{!fields['Account'][field].Unmatched_Blank__c}">
                                                                    <apex:outputField value="{!fields['Account'][field].Unmatched_Blank__c}" />
                                                                </div>
                                                            </td>
                                                            <td data-label="Blank (%)"
                                                                class="{!IF(fields['Account'][field].Unmatched_Blank_pcnt__c >= blankThreshold,'slds-theme--alert-texture slds-theme--shade','')}">
                                                                <div class="slds-truncate" title="{!fields['Account'][field].Unmatched_Blank_pcnt__c}%">
                                                                    {!fields['Account'][field].Unmatched_Blank_pcnt__c}%
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="slds-card slds-m-bottom--medium">
                                            <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                <h2>
                                                    <span class="slds-text-heading--small">Contact Fields</span>
                                                </h2>
                                                <div class="slds-text-title--caps">
                                                    <apex:outputField value="{!entities['Contact'].unmatched__c}" />
                                                    contact records
                                                </div>
                                            </header>
                                            <table class="slds-table slds-table--bordered">
                                                <thead>
                                                    <tr class="slds-text-title--caps">
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Field">Field</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank">Blank</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank (%)">Blank (%)</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:repeat value="{!unmatchedFieldLists['Contact']}" var="field">
                                                        <tr>
                                                            <th scope="row" data-label="Field">
                                                                <div class="slds-truncate" title="{!fieldLabels[field]}">{!fieldLabels[field]}</div>
                                                            </th>
                                                            <td data-label="Blank">
                                                                <div class="slds-truncate" title="{!fields['Contact'][field].Unmatched_Blank__c}">
                                                                    <apex:outputField value="{!fields['Contact'][field].Unmatched_Blank__c}" />
                                                                </div>
                                                            </td>
                                                            <td data-label="Blank (%)"
                                                                class="{!IF(fields['Contact'][field].Unmatched_Blank_pcnt__c >= blankThreshold,'slds-theme--alert-texture slds-theme--shade','')}">
                                                                <div class="slds-truncate" title="{!fields['Contact'][field].Unmatched_Blank_pcnt__c}%">
                                                                    {!fields['Contact'][field].Unmatched_Blank_pcnt__c}%
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="slds-card slds-m-bottom--medium">
                                            <header class="slds-theme--default slds-p-bottom--medium slds-m-bottom--none slds-card__header">
                                                <h2>
                                                    <span class="slds-text-heading--small">Lead Fields</span>
                                                </h2>
                                                <div class="slds-text-title--caps">
                                                    <apex:outputField value="{!entities['Lead'].unmatched__c}" />
                                                    lead records
                                                </div>
                                            </header>
                                            <table class="slds-table slds-table--bordered">
                                                <thead>
                                                    <tr class="slds-text-title--caps">
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Field">Field</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank">Blank</div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-truncate" title="Blank (%)">Blank (%)</div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:repeat value="{!unmatchedFieldLists['Lead']}" var="field">
                                                        <tr>
                                                            <th scope="row" data-label="Field">
                                                                <div class="slds-truncate" title="{!fieldLabels[field]}">{!fieldLabels[field]}</div>
                                                            </th>
                                                            <td data-label="Blank">
                                                                <div class="slds-truncate" title="{!fields['Lead'][field].Unmatched_Blank__c}">
                                                                    <apex:outputField value="{!fields['Lead'][field].Unmatched_Blank__c}" />
                                                                </div>
                                                            </td>
                                                            <td data-label="Blank (%)"
                                                                class="{!IF(fields['Lead'][field].Unmatched_Blank_pcnt__c >= blankThreshold,'slds-theme--alert-texture slds-theme--shade','')}">
                                                                <div class="slds-truncate" title="{!fields['Lead'][field].Unmatched_Blank_pcnt__c}%">
                                                                    {!fields['Lead'][field].Unmatched_Blank_pcnt__c}%
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-p-horizontal--xx-small slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-2">
                                    <apex:outputPanel rendered="{!hasInternational}" layout="none">
                                        <div class="slds-card slds-p-horizontal--xx-small">
                                            <header class="slds-card__header slds-text-heading--small slds-p-left--none">
                                                <h2>
                                                    <span class="slds-text-heading--small">International Records</span>
                                                </h2>
                                            </header>
                                            <p class="slds-card__body slds-text-body--regular slds-m-bottom--medium">
                                                <strong>{!entities['Account'].international__c} of your account records ({!entities['Account'].international_pcnt__c}% of your accounts),
                                                    {!entities['Contact'].international__c} of your contact records ({!entities['Contact'].international_pcnt__c}% of your contacts),
                                                    and {!entities['Lead'].international__c} of your lead records ({!entities['Lead'].international_pcnt__c}% of your leads) 
                                                    appear to be located in non-English speaking countries that Data.com Matching does not support.</strong>
                                                (The countries Data.com Matching does support are: Australia, Brazil, Canada, India, Ireland, New Zealand, Singapore, South
                                                Africa, United Kingdom, and the United States.) Data.com also provides DUNSRight™ Matching, which can provide a higher 
                                                match rate, particularly for accounts in international locations. Our Sales team is happy to help you with a DUNSRight 
                                                assessment.
                                            </p>
                                            <apex:outputPanel rendered="{!summary.ddcAssess__Dunsright__c}" layout="none" style="slds-m-bottom--medium">
                                                <h2><strong>See your match rate with DUNSRight <a href="javascript:clickDunsright();">here</a></strong></h2>
                                            </apex:outputPanel>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!hasPersonAccount}" layout="none">
                                        <div class="slds-card slds-p-horizontal--xx-small slds-m-bottom--medium">
                                            <header class="slds-card__header slds-text-heading--small slds-p-left--none">
                                                <h2>
                                                    <span class="slds-text-heading--small">Person Accounts</span>
                                                </h2>
                                            </header>
                                            <p class="slds-card__body slds-text-body--regular">
                                                <strong>{!entities['Account'].person__c} of your account records ({!entities['Account'].person_pcnt__c}% of your accounts)
                                                    appear to be person accounts.</strong> Data.com has over 200 million business accounts, but our data asset does not include location
                                                information for individuals, so we cannot match person accounts. A large number of person accounts may cause your
                                                organization to have lower account match rates.
                                            </p>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!hasPersonalEmail}" layout="none">
                                        <div class="slds-card slds-p-horizontal--xx-small">
                                            <header class="slds-card__header slds-text-heading--small slds-p-left--none">
                                                <h2>
                                                    <span class="slds-text-heading--small">Personal Email Addresses</span>
                                                </h2>
                                            </header>
                                            <p class="slds-card__body slds-text-body--regular">
                                                <strong>{!entities['Contact'].personal_email__c} of your contact records ({!entities['Contact'].personal_email_pcnt__c}% of your contacts)
                                                    and {!entities['Lead'].personal_email__c} of your lead records ({!entities['Lead'].personal_email_pcnt__c}% of your leads) appear to
                                                    contain personal email addresses.</strong> Data.com has millions of business contacts, but for matching records, we use only
                                                business contact information---no personal emails (such as {!personalEmailList}) or personal phone numbers. Personal contact 
                                                information may cause your organization to have lower contact and lead match rates.
                                            </p>
                                            <apex:outputPanel rendered="{!IF(hasInternational || (entities['Account'].person__c > 0) || hasPersonalEmail, true, false)}" layout="none">
                                                <p class="slds-card__body slds-text-body--regular">
                                                    For more information, see <a class="help_link"
                                                                                 href="https://help.salesforce.com/HTViewHelpDoc?id=data_dot_com_clean_understanding_matching.htm&language=en_US"
                                                                                 target="_blank"> Understanding How Salesforce and Data.com Records are Matched</a> in the Salesforce help.
                                                </p>
                                            </apex:outputPanel>
	                                    </div>
                                    </apex:outputPanel>
                                </div>
                            </div>
                            <!-- </article> -->
                        </div> <!-- unmatched -->
                        
                        <div class="clear"></div>
                        
                        <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dunsright__c}">
                            <div id="dunsright" class="slds-tabs--default__content slds-hide slds-p-horizontal--xx-small" role="tabpanel" aria-labelledby="tab-default-6__item">
                                <header class="slds-card__header slds-text-heading--small slds-p-left--none">
                                    <h2>
                                        <span class="slds-text-heading--small">DUNSRight&#8482; Match</span>
                                    </h2>
                                </header>
                                <p class="slds-card__body slds-text-body--regular slds-m-bottom--medium">
                                    If many of your account records are located at international addresses, particularly in non-English speaking countries,
                                    D&amp;B's DUNSRight matching, which is offered as part of Data.com Clean, may provide better match results than Data.com matching.
                                    If you have more than 50,000 account records, the results are based on a random sample of up to 50,000 records.
                                </p>
                                <p class="slds-card__body slds-text-body--regular slds-m-bottom--medium">
                                    We processed {!dunsrightResults['match'] + dunsrightResults['no_match']} account records.
                                </p>
                                <div class="slds-grid slds-wrap">
                                    <div class ="slds-p-horizontal--xx-small slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-3">
                                        <div id="Dunsright_chart" class="jqplot-target" style="height: 300px">
                                            <div class="donut-value">{!dunsrightMatchPercent}<span class="donut-percent-sign">% </span><span class="donut-descriptor">matched</span></div>
                                        </div>
                                        <div style="text-align: center; font-weight:bold;">
                                            <p>Match rate includes Automatically Matched and Select Match.</p>
                                        </div>
                                    </div>
                                    <div class ="slds-p-horizontal--xx-small slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-3">
                                        <div id="Dunsright_bar_chart" class="jqplot-target" style="height: 300px" />
                                        <div style="text-align: center; font-weight:bold;">
                                            <p>Confidence Code threshold setting</p>
                                        </div>
                                    </div>                        
                                    <div class ="slds-p-horizontal--xx-small slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-3">
                                        <div class="row legend-row">
                                            <div class="legend_element">
                                                <div class="legend_10">&nbsp;</div>
                                                <span><strong class='add_commas'>Automatically Matched</strong></span>
                                            </div>
                                        </div>
                                        <div class="row legend-row">
                                            <div class="legend_element">
                                                <div class="legend_select_match">&nbsp;</div>
                                                <span><strong class='add_commas'>Select Match</strong></span>
                                            </div>
                                        </div>
                                        <div class="row legend-row">
                                            <div class="legend_element">
                                                <div class="legend_unmatched">&nbsp;</div>
                                                <span><strong class='add_commas'>Unmatched</strong></span>
                                            </div>
                                        </div>                                                
                                    </div>
                                </div>
                                <br/>
                                <p class="slds-text-body--regular">
                                    <strong>Confidence Code</strong> is a match score provided by D&amp;B's DUNSRight matching. Higher codes are equivalent to more exact or precise
                                    matches. Data.com allows you to tune your automatic matching threshold by selecting a confidence code from 7-10. <br/><br/>
                                    Matches below the selected threshold can be reviewed in the application using the <strong>Select Match</strong> interface. This allows
                                    someone to manually select an appropriate match from a list of choices<!-- (see video 
<a href="http://salesforce.vidyard.com/watch/W2ZJZbyVm_CMCZoAWJhzLg" target="_blank">here</a>)-->. 
                                    Once a record is matched it can be enriched by Data.com clean.
                                </p>    
                            </div>
                        </apex:outputPanel> 
                        
                    </div>   <!--  subtabs class="slds-tabs--default" -->      
                    
                    <script type="text/javascript">     
                    function sortFunction(a, b) {
                        if (a[0] === b[0]) {
                            return 1;
                        }
                        else {
                            return (a[0] < b[0]) ? -1 : 1;
                        }
                    }
                    function drawEmployeesChart() {
                        var options = {
                            grid: {
                                shadow:false,
                                borderColor:'#FFFFFF',
                                background:'#FFFFFF'
                            },
                            highlighter: {fadeTooltip: false},
                            seriesDefaults: {
                                seriesColors: ["#1783B4","#0B4298","#88BDFE"],
                                renderer:$.jqplot.DonutRenderer,
                                rendererOptions:{
                                    startAngle: -90,
                                    innerDiameter: 70,
                                    showDataLabels: true,
                                    highlightMouseOver: false,
                                    highlightMouseDown: false,
                                    highlightColor: null,
                                }
                            },
                            legend: {show:true, location: 'e', fontSize: '16px'}
                        };
                        
                        var employeeRanges = [
                            <apex:repeat value="{!employeeRangeLabels}" var="employee">
                            ["{!employee}", {!employeeRangeCount[employee]}],
                                </apex:repeat>
                                ];
                    for(i in employeeRanges) {
                        if(employeeRanges[i][0] == "-1") {
                            missing_vals = employeeRanges.splice(i, 1);
                            $("#missing_employees_count").html(missing_vals[0][1]);
                            if(missing_vals[0][1] == 0) $("#missing_employees_text").hide();
                        }
                    }
                    try{
                        $.jqplot('employees-chart', [employeeRanges], options);
                    }catch(err){
                        $(".employee-chart-container").hide();
                    }
                    }
                    function drawRevenueChart() {
                        var options = {
                            catchErrors:true,
                            grid: {
                                shadow:false,
                                borderColor:'#FFFFFF',
                                background:'#FFFFFF'
                            },
                            highlighter: {fadeTooltip: false},
                            seriesDefaults: {
                                seriesColors: ["#1783B4","#0B4298","#88BDFE"],
                                renderer:$.jqplot.DonutRenderer,
                                rendererOptions:{
                                    startAngle: -90,
                                    innerDiameter: 70,
                                    showDataLabels: true,
                                    highlightMouseOver: false,
                                    highlightMouseDown: false,
                                    highlightColor: null,
                                }
                            },
                            legend: {show:true, location: 'e', fontSize: '16px'}
                        };
                        
                        var revenues = [
                            <apex:repeat value="{!revenueRangeLabels}" var="revenueId">
                            ["{!revenueId}", {!revenueRangeCount[revenueId]}],
                                </apex:repeat>
                                ];
                    for(i in revenues) {
                        if(revenues[i][0] == "-1") {
                            missing_vals = revenues.splice(i, 1);
                            $("#missing_revenue_count").html(missing_vals[0][1]);
                            if(missing_vals[0][1] == 0) $("#missing_revenue_text").hide();
                        }
                    }
                    try{
                        $.jqplot('revenue-chart', [revenues], options);
                       }catch(err){
                           //console.log("error generating revenue chart:"+err);
                           $(".revenue-chart-container").hide();
                       }
                    }   
                    function drawIndustryChart(){
                        var industryValues = [
                            <apex:repeat value="{!IndustryNames}" var="industry">
                            [{!industryNames[industry]}, "{!industry}"], 
                                </apex:repeat>
                                ];
                    for(i in industryValues) {
                        if(industryValues[i][1] == "-1") {
                            missing_vals = industryValues.splice(i, 1);
                            $("#missing_industries_count").html(missing_vals[0][0]);
                            if(missing_vals[0][0] == 0) $("#missing_industries_text").hide();
                        }
                    }    
                    var missing_vals = 
                        industryValues = [industryValues.sort(sortFunction)];
                    try{
                        
                        var plot2 = $.jqplot('industry-chart', industryValues,
                                             {
                                                 seriesDefaults: {
                                                     seriesColors: [ "#2f558d", "#5a9745", "#e7a334", "#be2e2e", "#703a7a", "#7d807f", "#42679c", "#6ca557", "#ebae4f", "#c64344"],
                                                     renderer:$.jqplot.BarRenderer,
                                                     pointLabels: { show: true, location: 'e', edgeTolerance: -15 },
                                                     //shadowAngle: 135,
                                                     rendererOptions: {
                                                         barDirection: 'horizontal',
                                                         varyBarColor: true,
                                                         barMargin: 5
                                                     }
                                                 },
                                                 axes: {
                                                     yaxis: {
                                                         renderer: $.jqplot.CategoryAxisRenderer
                                                         //ticks : ['Technology', 'Textiles','Agriculture']
                                                     }
                                                 }
                                             });
                    }catch(err){ 
                        //console.log("error generating industry char : " +err);
                        $(".industry-chart-container").hide();
                    }
                    }

                    function drawCharts() {
                        
                        var options = {
                            grid: {
                                shadow:false,
                                borderColor:'#FFFFFF',
                                background:'#FFFFFF'
                            },
                            highlighter: {fadeTooltip: false},
                            seriesDefaults: {
                                seriesColors: ["#E9E9E9","#12379c","#127fb7", "#88b9fd"],
                                seriesLabels: ["Yoyo", "","",""],
                                
                                renderer:$.jqplot.DonutRenderer,
                                rendererOptions:{
                                    startAngle: -90,
                                    innerDiameter: 70,
                                    showDataLabels: true,
                                    highlightMouseOver: false,
                                    highlightMouseDown: false,
                                    highlightColor: null,
                                    dataLabels: 'label'
                                }
                            }
                        };
                        
                        <apex:repeat value="{!entityList}" var="entity">
                            var in_sync_pcnt = 0;
                        var different_pcnt = 0;
                        var inactive_pcnt = 0;
                        var totalMatchedRecords = 100 - ( {!entities[entity].unmatched_pcnt__c} );
                        
                        if(totalMatchedRecords != 0) {
                            in_sync_pcnt = ({!entities[entity].in_sync_pcnt__c} / 100) * totalMatchedRecords;
                                            different_pcnt = ({!entities[entity].different_pcnt__c} / 100) * totalMatchedRecords;
                                            inactive_pcnt = ({!entities[entity].inactive_pcnt__c} / 100) * totalMatchedRecords;
                                            }
                                            try{
                                            $.jqplot('{!entity}_chart', [[
                                            ['',{!entities[entity].unmatched_pcnt__c}],
                                            ['', in_sync_pcnt],
                                            ['', different_pcnt],
                                            ['', inactive_pcnt]
                                            ]], options);
                        }catch(err){}
                        
                        </apex:repeat>
                        if ({!summary.ddcAssess__Dunsright__c}) {
                            drawDunsrightChart();
                        }
                    };
                    <apex:outputPanel layout="none" rendered="{!summary.ddcAssess__Dunsright__c}">
                        function drawDunsrightChart() {
                        try{
                            var total = {!dunsrightResults['match'] + dunsrightResults['no_match']};
                            var pct10 = Math.round({!dunsrightResults['10']} * 100 / total);
                            var pct9 = Math.round({!dunsrightResults['9']} * 100 / total);
                            var pct8 = Math.round({!dunsrightResults['8']} * 100 / total);
                            var pct7 = Math.round({!dunsrightResults['7']} * 100 / total);
                            var pct6 = Math.round({!dunsrightResults['6']} * 100 / total);
                            var pct5 = Math.round({!dunsrightResults['5']} * 100 / total);
                            var pctMatched = Math.round({!dunsrightResults['match']} * 100 / total);
                            var pctUnmatched = Math.round({!dunsrightResults['no_match']} * 100 / total);
                            
                            var options = {
                                grid: {
                                    shadow:false,
                                    borderColor:'#FFFFFF',
                                    background:'#FFFFFF'
                                },
                                highlighter: {fadeTooltip: false},
                                seriesDefaults: {
                                    seriesColors: ["#0000FF","#E9E9E9"],
                                    seriesLabels: ["",""],
                                    
                                    renderer:$.jqplot.DonutRenderer,
                                    rendererOptions:{
                                        startAngle: -90,
                                        innerDiameter: 70,
                                        highlightMouseOver: false,
                                        highlightMouseDown: false,
                                        highlightColor: null
                                    }
                                }
                            };
                            $.jqplot('Dunsright_chart', [[
                                [pctMatched + '%',{!dunsrightResults['match']}],
                                [pctUnmatched,{!dunsrightResults['no_match']}]
                            ]], options);
                            
                            var barOptions = {
                                stackSeries: true,
                                seriesDefaults: {
                                    renderer:$.jqplot.BarRenderer,
                                    rendererOptions: {
                                        barMargin: 30,
                                        barWidth: 40
                                    },
                                    pointLabels: {
                                        show: true
                                    }
                                },
                                axes: {
                                    xaxis: {
                                        renderer: $.jqplot.CategoryAxisRenderer,
                                        ticks: ['10', '9', '8', '7']
                                    },
                                    yaxis: {
                                        show:false,
                                        min: 0,
                                        padMin: 0,
                                        showTicks: false,
                                        showTickMarks: false
                                    }
                                },
                                series: [
                                    {
                                        label: 'Unmatched',
                                        pointLabels: {
                                            escapeHTML: false,
                                            labels: Array(5).join(1).split('').map(function(){return '<span style="color:gray">' + pctUnmatched + '%</span>';})
                                        },
                                        color: "#E9E9E9"
                                    },
                                    {
                                        label: 'Select Match',
                                        pointLabels: {
                                            labels: [pct5 + pct6 + pct7 + pct8 + pct9 + '%', pct5 + pct6 + pct7 + pct8 + '%', pct5 + pct6 + pct7 + '%', pct5 + pct6 + '%']
                                        },
                                        color: "#88BDFE"
                                    },
                                    {
                                        label: 'Matched',
                                        pointLabels: {
                                            labels: [pct10 + '%', pct10 + pct9 + '%', pct10 + pct9 + pct8 + '%', pct10 + pct9 + pct8 + pct7 + '%']
                                        },
                                        color: "#0000FF"
                                    }
                                ]
                            };
                            var matched = [ {!dunsrightResults['10']},
                                           {!dunsrightResults['10']} + {!dunsrightResults['9']},
                                           {!dunsrightResults['10']} + {!dunsrightResults['9']} + {!dunsrightResults['8']},
                                           {!dunsrightResults['10']} + {!dunsrightResults['9']} + {!dunsrightResults['8']} + {!dunsrightResults['7']}];
                            var conf56 = {!dunsrightResults['5']} + {!dunsrightResults['6']};
                            var selectMatch = [ conf56 + {!dunsrightResults['7']} + {!dunsrightResults['8']} + {!dunsrightResults['9']},
                                               conf56 + {!dunsrightResults['7']} + {!dunsrightResults['8']},
                                               conf56 + {!dunsrightResults['7']},
                                               conf56];
                            var unmatched = Array(5).join(1).split('').map(function(){return Math.round({!dunsrightResults['no_match']});});
                            $.jqplot('Dunsright_bar_chart', [unmatched, selectMatch, matched], barOptions);
                        }catch(err){
                            //console.log(err);
                        }
                    };
                    </apex:outputPanel>
                    </script>
                    
                    
                </apex:outputPanel> <!-- rendered only if valid -->
            </apex:outputPanel> <!-- everything --> 
            <div id='crm_learn_more'>
                <div>
                    <p>
                        <span class="slds-text-heading--small"> 
                            The CRM Data Health Rating provides a high-level assessment of the marketing and prospecting readiness of your accounts, contacts, and leads.  The  rating is based on three metrics:
                        </span>
                    </p>
                    <ul>
                        <li><span class="slds-text-title">Usability</span> <span class="slds-text-body--regular">-  Usability reflects how easy it is for  users  to prospect and market using the current data available in CRM.   If the fields most commonly used for sales and marketing are up-to-date, then your data is highly usable.</span>
                        </li>
                        <li><span class="slds-text-title">Matchability</span> <span class="slds-text-body--regular">- Matchability reflects how easy it is to keep your CRM data up-to-date via automated processes.  Highly matchable CRM records generally have good fill-rates for key identifying fields such as name, address, and contact info.</span></li>
                        <li><span class="slds-text-title">Uniqueness</span><span class="slds-text-body--regular"> - In a healthy CRM system, each record serves a unique purpose.  Having duplicates in your CRM system inflates reportings and reduces productivity.  A low rate of duplicates is a sign of a healthy CRM system.</span></li>
                    </ul>
                </div>
            </div>
            <script type="text/javascript" src="{!URLFOR($Resource.LeanModal)}"></script>
            </div>
            </body>
            </apex:page>