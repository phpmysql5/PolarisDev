!function(a){if(!a.dataSource.getType("SAPGateway"))var b=a.dataSource.core,c=a.$,d=new b.ODataDataSourceTypeBase({name:"SAPGateway",authenticateAndGetMetadata:function(a){var b=c.Deferred();return c.removeCookie("sap-usercontext",{path:"/"}),a.dataSource.authenticate().done(function(){c.cookie.raw=!0;var e=a.dataSource.requestHeaders,f=c.cookie(),g="";c.each(f,function(a,b){0===a.toLowerCase().indexOf("sap")&&(g.length&&(g+=";"),g+=a+"="+b)}),e.Cookie=g,e["x-skuid-cookie"]=g,c.cookie.raw=!1,d.getMetadata(a).done(function(a){b.resolve(a)}).fail(function(a,c){b.reject(a,c)})}).fail(function(d){var e=c.cookie();c.each(e,function(a){0===a.toLowerCase().indexOf("sap")&&c.removeCookie(a,{path:"/"})}),a.dataSource.removeStoredAuthData(),a.dataSource.authentication.success=!1,b.reject(d)}),b.promise()},coerceFieldMetadata:function(a,b){var c,e,f,g=d.createPropertyExtensionsMap(b);g&&(c=g.updatable,e=g.creatable,f=g.label,"string"==typeof c&&(c=c.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),!c||"false"!==c&&!1!==c||(a.editable=!1),!e||"false"!==e&&!1!==e||(a.createable=!1),f&&(a.label=f))}})}(skuid);